<!DOCTYPE html><html><head><meta charset="utf-8"/><link rel="icon" href="/css/favicon.ico"/><link rel="stylesheet" href="/css/magic.css"/></head><body><div id="magic"><div class="wrapper"><header class="main"><a class="logo-wrapper" href="/css/"><span class="logo-text">@magic/css</span></a><nav class="Menu "><ul><li><a href="/css/#installation">installation</a></li><li><a href="/css/#require">require</a></li><li><a href="/css/#api">api</a></li><li><a href="/css/#styles">styles</a></li><li><a href="/css/#changelog">changelog</a></li></ul></nav></header><div class="page"><div><h2>@magic/css</h2><p>parse/stringify/write css in js</p><p>NO dynamic css, css gets output as css file. whenever possible, use dynamic classes instead.</p><p>if there is absolute need for dynamic css, feel free to use the style property of the html tag / webcomponent you want to dynamically change, unfortunately, this library will not help you with that.</p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic/css" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic/css.svg" role="presentation" alt=""/></a></li><li><a href="https://travis-ci.com/magic/css" target="_blank" rel="noopener"><img src="https://travis-ci.com/magic/css.svg?branch=master" role="presentation" alt=""/></a></li><li><a href="https://ci.appveyor.com/project/jaeh/css/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/jaeh/css/master.svg" role="presentation" alt=""/></a></li><li><a href="https://coveralls.io/github/magic/css" target="_blank" rel="noopener"><img src="https://coveralls.io/repos/github/magic/css/badge.svg" role="presentation" alt=""/></a></li><li><a href="https://greenkeeper.io" target="_blank" rel="noopener"><img src="https://badges.greenkeeper.io/magic/css.svg" role="presentation" alt=""/></a></li></ul><h2 id="installation">installation</h2><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line">npm<span class="keyword"> </span>install @magic/css</code></pre></div><h2 id="usage">usage</h2><h3 id="require">require</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>css = <span class="keyword">require</span>(<span class="string">&#39;@magic/css&#39;</span>)</code></pre></div><h2 id="api">api</h2><h3 id="api-css">css (full result)</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>css = <span class="keyword">require</span>(<span class="string">&#39;css&#39;</span>)</code><code class="line"></code><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line">  <span class="colon">body</span>: {</code><code class="line">    <span class="colon">color</span>: <span class="string">&#39;green&#39;</span>,</code><code class="line">  },</code><code class="line">  <span class="string">&#39;.class&#39;</span>: {</code><code class="line">    <span class="colon">color</span>: <span class="string">&#39;orange&#39;</span>,</code><code class="line">  },</code><code class="line">  <span class="string">&#39;#id&#39;</span>: {</code><code class="line">    <span class="colon">color</span>: <span class="string">&#39;purple&#39;</span></code><code class="line">  },</code><code class="line">}</code><code class="line"></code><code class="line">css(style)</code><code class="line"></code><code class="line"><code class="line comment">// returns</code></code><code class="line"><span class="builtin">Object</span> {</code><code class="line"><code class="line comment">  // nicely formatted css string</code></code><code class="line">  <span class="colon">css</span>: <span class="string">&#39;body {\n  color: green;\n}\n.class {\n  color: orange;\n}\n#id{\n  color: purple;\n}\n&#39;</span>,</code><code class="line"><code class="line comment">  // minimal whitespace</code></code><code class="line">  <span class="colon">minified</span>: <span class="string">&#39;body{color:green}.class{color:orange}#id{color:purple}&#39;</span>,</code><code class="line"><code class="line comment">  // array of used classes if any</code></code><code class="line">  <span class="colon">classes</span>: [],</code><code class="line"><code class="line comment">  // array of used ids if any</code></code><code class="line">  <span class="colon">ids</span>: [],</code><code class="line"><code class="line comment">  // array of used selectors</code></code><code class="line">  <span class="colon">selectors</span>: [],</code><code class="line"><code class="line comment">  //ast of this css object</code></code><code class="line">  <span class="colon">parsed</span>: [],</code><code class="line">}</code></pre></div><h3 id="api-parse">parse</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line">  <span class="string">&#39;.className&#39;</span>: {</code><code class="line">    <span class="string">&#39;#id&#39;</span>: {</code><code class="line">      <span class="colon">color</span>: <span class="string">&#39;orange&#39;</span>,</code><code class="line">    },</code><code class="line">  },</code><code class="line">}</code><code class="line"></code><code class="line"><span class="object">css</span>.<span class="property">parse</span>(style)</code><code class="line"><code class="line comment">// ast</code></code></pre></div><h3 id="api-stringify">stringify</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line">  <span class="string">&#39;.className&#39;</span>: {</code><code class="line">    <span class="string">&#39;#id&#39;</span>: {</code><code class="line">      <span class="colon">color</span>: <span class="string">&#39;white&#39;</span>,</code><code class="line">    },</code><code class="line">  },</code><code class="line">}</code><code class="line"></code><code class="line"><span class="keyword">await</span><span class="keyword"> </span><span class="object">css</span>.<span class="property">stringify</span>(style)</code><code class="line"><code class="line comment">// minified string</code></code><code class="line">`.className #<span class="keyword">id</span>{<span class="colon">color</span>:white;}`</code></pre></div><h3 id="api-write">write to filesystem</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line">  <span class="string">&#39;.className&#39;</span>: {</code><code class="line">    <span class="string">&#39;#id&#39;</span>: {</code><code class="line">      <span class="colon">color</span>: <span class="object">opts</span>.<span class="property">textColor</span>,</code><code class="line">    },</code><code class="line">  },</code><code class="line">}</code><code class="line"></code><code class="line"><code class="line comment">// writes styles to ./out.css</code></code><code class="line"><span class="object">css</span>.<span class="property">write</span>(style)</code><code class="line"><code class="line comment">// writes styles to ./outfile.css</code></code><code class="line"><span class="object">css</span>.<span class="property">write</span>(style, { <span class="colon">OUTFILE</span>: <span class="string">&#39;./outfile.css&#39;</span> })</code></pre></div><h2 id="styles">styles</h2><p>styles are a javascript object. the keys are selectors and the values are nested objects of css rules, where the keys of the objects are assumed to be selectors unless the value associated with the key is not an object</p><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line"><span class="string">&#39;.className&#39;</span>: {</code><code class="line">  <span class="colon">color</span>: <span class="string">&#39;green&#39;</span>,</code><code class="line">},</code><code class="line">}</code><code class="line"><span class="keyword">await</span><span class="keyword"> </span><span class="object">css</span>.<span class="property">stringify</span>(style)</code><code class="line"><code class="line comment">// .className { color:green; }</code></code></pre></div><h3 id="pseudo classes: (:hover, :active)">pseudo classes: (:hover, :active)</h3><p>css pseudo classes in nested css get found if their object key starts with a &amp;</p><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line"><span class="string">&#39;div&#39;</span>: {</code><code class="line">  <span class="colon">color</span>: <span class="string">&#39;red&#39;</span>,</code><code class="line">  <span class="string">&#39;&amp;:hover&#39;</span>: {</code><code class="line">    <span class="colon">color</span>: <span class="string">&#39;green&#39;</span>,</code><code class="line">  },</code><code class="line">},</code><code class="line">}</code><code class="line"></code><code class="line"><span class="keyword">await</span><span class="keyword"> </span><span class="object">css</span>.<span class="property">stringify</span>(style)</code><code class="line"><code class="line comment">// div { color: red; }</code></code><code class="line"><code class="line comment">// div:hover { color: green; }</code></code></pre></div><h3 id="selector-nesting">selector nesting</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line"><span class="string">&#39;div&#39;</span>: {</code><code class="line">  <span class="string">&#39;p, &amp;:hover&#39;</span>: {</code><code class="line">    <span class="colon">color</span>: <span class="string">&#39;red&#39;</span>,</code><code class="line">  },</code><code class="line">},</code><code class="line">}</code><code class="line"><span class="keyword">await</span><span class="keyword"> </span><span class="object">css</span>.<span class="property">stringify</span>(style)</code><code class="line"><code class="line comment">// div p, div:hover { color: red; }</code></code></pre></div><h3 id="media-queries">media queries</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line">  <span class="string">&#39;@media screen and (min-width: 500px)&#39;</span>: {</code><code class="line">    <span class="string">&#39;#id&#39;</span>: {</code><code class="line">      <span class="colon">color</span>: <span class="object">opts</span>.<span class="property">textColor</span>,</code><code class="line">    },</code><code class="line">  },</code><code class="line">}</code><code class="line"></code><code class="line"><span class="keyword">await</span><span class="keyword"> </span><span class="object">css</span>.<span class="property">stringify</span>(style)</code><code class="line"><code class="line comment">// css string</code></code><code class="line">`</code><code class="line">@media<span class="keyword"> </span>screen<span class="keyword"> </span>and (min-<span class="colon">width</span>: 500px) {</code><code class="line">  #<span class="keyword">id</span> {</code><code class="line">    <span class="colon">color</span>: green;</code><code class="line">  }</code><code class="line">}</code><code class="line">`</code></pre></div><h3 id="keyframes">keyframes for animations</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line"><span class="string">&#39;@keyframes anim-name&#39;</span>: {</code><code class="line">  from {</code><code class="line">    <span class="colon">opacity</span>: 0,</code><code class="line">  },</code><code class="line">  <span class="keyword">to</span> {</code><code class="line">    <span class="colon">opacity</span>: <span class="builtin">1</span>,</code><code class="line">  }</code><code class="line">}</code><code class="line"></code><code class="line"><span class="keyword">await</span><span class="keyword"> </span><span class="object">css</span>.<span class="property">stringify</span>(style)</code><code class="line"></code><code class="line"><code class="line comment">// css string</code></code><code class="line">`</code><code class="line">@keyframes<span class="keyword"> </span>anim-name {</code><code class="line">  from {</code><code class="line">    <span class="colon">opacity</span>: 0;</code><code class="line">  }</code><code class="line">  <span class="keyword">to</span> {</code><code class="line">    <span class="colon">opacity</span>: <span class="builtin">1</span>;</code><code class="line">  }</code><code class="line">}</code><code class="line">`</code></pre></div><h3 id="webfonts">webfonts</h3><div class="Pre light"><div class="menu"><button>dark</button><button>copy</button></div><pre><code class="line"><span class="keyword">const</span><span class="keyword"> </span>style = {</code><code class="line">  <span class="string">&#39;@font-face&#39;</span>: {</code><code class="line">    <span class="colon">fontFamily</span>: <span class="string">&#39;font-name&#39;</span>,</code><code class="line">    <span class="colon">fontDir</span>: <span class="string">&#39;/fonts/&#39;</span>,</code><code class="line">    <span class="colon">fontStyle</span>: <span class="string">&#39;normal&#39;</span>,</code><code class="line">    <span class="colon">fontWeight</span>: <span class="string">&#39;normal&#39;</span>,</code><code class="line">  },</code><code class="line">}</code><code class="line"></code><code class="line"><span class="keyword">await</span><span class="keyword"> </span><span class="object">css</span>.<span class="property">stringify</span>(style)</code><code class="line"><code class="line comment">// css string</code></code><code class="line">`</code><code class="line">@font-<span class="keyword">face</span> {</code><code class="line">  font-<span class="colon">family</span>: <span class="string">&#39;font-name&#39;</span>;</code><code class="line">  font-<span class="colon">style</span>: normal;</code><code class="line">  font-<span class="colon">weight</span>: normal;</code><code class="line">  <span class="colon">src</span>: url(<span class="string">&#39;/fonts/font-name.eot&#39;</span>);</code><code class="line">  <span class="colon">src</span>: url(<span class="string">&#39;/fonts/font-name.eot#iefix&#39;</span>) format(<span class="string">&#39;embedded-opentype&#39;</span>),<span class="string">&#39;,&#39;</span></code><code class="line">  url(<span class="string">&#39;/fonts/font-name.ttf&#39;</span>) format(<span class="string">&#39;truetype&#39;</span>),<span class="string">&#39;,&#39;</span></code><code class="line">  url(<span class="string">&#39;/fonts/font-name.woff&#39;</span>) format(<span class="string">&#39;woff&#39;</span>),<span class="string">&#39;,&#39;</span></code><code class="line">  url(<span class="string">&#39;/fonts/font-name.woff2&#39;</span>) format(<span class="string">&#39;woff2&#39;</span>),<span class="string">&#39;,&#39;</span></code><code class="line">  url(<span class="string">&#39;/fonts/font-name.svg#font-name&#39;</span>) format(<span class="string">&#39;svg&#39;</span>);<span class="string">&#39;,&#39;</span></code><code class="line">}</code><code class="line">`</code></pre></div><div id="changelog"><h2>CHANGELOG</h2><h4 id="v-0.1.0">0.1.0</h4><ul><li>return classes and ids as separate objects additionally to selectors</li></ul><h4 id="v-0.2.0">0.2.0</h4><ul><li>Added media queries</li></ul><h4 id="v-0.3.0">0.3.0</h4><ul><li>returns a promise! no longer sync</li><li>autoprefixer and postcss added</li></ul><h4 id="v-0.4.0">0.4.0</h4><ul><li>supports @font-face declarations</li></ul><h4 id="v-0.4.1">0.4.1</h4><ul><li>added fontDir option to font-face declarations</li></ul><h4 id="v-0.4.2">0.4.2</h4><ul><li>update deps to fix security issues</li></ul><h4 id="v-0.4.3">0.4.3</h4><ul><li>added @keyframes for animations</li></ul></div></div></div><footer class="main"><div class="wrapper">made with a few bits of <a target="_blank" rel="noopener" href="https://github.com/magic/core">magic</a></div></footer></div></div><script type="text/javascript" src="/css/magic.js"></script></body></html>